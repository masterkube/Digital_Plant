<?xml version="1.0" encoding="UTF-8"?>
<Agent>
	<AgentName>PickSubModelAgent</AgentName>
	<Choice>
	    <ChoiceOption>
			<Ask><action><actionName>PickSubModel</actionName></action><internal>true</internal></Ask>
			<OptionAction>
				<Sequence>
					<Compose>
						<AgentCommand>
							<AgentName>SubModelAgent</AgentName>
							<Ask><action><actionName>CreateSubModel</actionName></action><internal>true</internal></Ask>
						</AgentCommand>
						<Tell><action><actionName>CreateSubModel</actionName></action><internal>true</internal></Tell>
					</Compose>
					<Ask><action><actionName>LinkOfTestChain</actionName></action><internal>true</internal></Ask>
					<Tell><element><elementName>ForSubmodel</elementName></element></Tell>
					<Ask><action><actionName>ChForSubmodel</actionName></action><internal>true</internal></Ask>
					<AgentCommand><AgentName>PickSubModelLoopAgent</AgentName></AgentCommand>
				</Sequence>
			</OptionAction>
		</ChoiceOption>
		<ChoiceOption>
			<Ask><action><actionName>PickNextSubModel</actionName></action><internal>true</internal></Ask>
			<OptionAction>
				<Sequence>
					<Compose>
						<AgentCommand>
							<AgentName>NextSubModelAgent</AgentName>
							<Ask><action><actionName>CreateNextSubModel</actionName></action><internal>true</internal></Ask>
						</AgentCommand>
						<Tell><action><actionName>CreateNextSubModel</actionName></action><internal>true</internal></Tell>
					</Compose>
				    <Ask><action><actionName>LinkOfTestChain</actionName></action><internal>true</internal></Ask>
					<Tell><element><elementName>ForSubmodel</elementName></element></Tell>
                   	<Ask><action><actionName>ChForSubmodel</actionName></action><internal>true</internal></Ask>
                   	<AgentCommand><AgentName>PickSubModelLoopAgent</AgentName></AgentCommand>
				</Sequence>
		    </OptionAction>
		</ChoiceOption>
        <ChoiceOption>
            <Ask><action><actionName>PickNextNewSubModel</actionName></action><internal>true</internal></Ask>
			<OptionAction>
				<Sequence>
				    <Compose>
					    <AgentCommand>
							<AgentName>NextNewSubModelAgent</AgentName>
							<Ask><action><actionName>CreateNextNewSubModel</actionName></action><internal>true</internal></Ask>
						</AgentCommand>
						<Tell><action><actionName>CreateNextNewSubModel</actionName></action><internal>true</internal></Tell>
					</Compose>
					<Ask><action><actionName>LinkOfTestChain</actionName></action><internal>true</internal></Ask>
					<Tell><element><elementName>ForSubmodel</elementName></element></Tell>
                   	<Ask><action><actionName>ChForSubmodel</actionName></action><internal>true</internal></Ask>
                   	<AgentCommand><AgentName>PickSubModelLoopAgent</AgentName></AgentCommand>
				</Sequence>
			</OptionAction>
		</ChoiceOption>
		<ChoiceOption>
            <Ask><action><actionName>PickFinalSubModel</actionName></action><internal>true</internal></Ask>
            <OptionAction>
				<Sequence>
					<Compose>
						<AgentCommand>
						<AgentName>FinalSubModelAgent</AgentName>
							<Ask><action><actionName>CreateFinalSubModel</actionName></action><internal>true</internal></Ask>
						</AgentCommand>
						<Tell><action><actionName>CreateFinalSubModel</actionName></action><internal>true</internal></Tell>
					</Compose>
					<Ask><action><actionName>LinkOfTestChain</actionName></action><internal>true</internal></Ask>
					<Tell><element><elementName>ForSubmodel</elementName></element></Tell>
                  	<Ask><action><actionName>ChForSubmodel</actionName></action><internal>true</internal></Ask>
                  	<AgentCommand><AgentName>PickSubModelLoopAgent</AgentName></AgentCommand>
				</Sequence>
			</OptionAction>
		</ChoiceOption>
	</Choice>
</Agent> 